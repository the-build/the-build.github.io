{"componentChunkName":"component---node-modules-gatsby-theme-portfolio-minimal-src-templates-article-index-tsx","path":"/ComputerScience/back-up-and-recover-for-the-harobr/","result":{"pageContext":{"article":{"banner":{"alt":"","caption":"","src":null},"body":"<h2>Overview</h2>\n<ul>\n<li>회사에서 운영하는 배포 파이프 라인이 있었지만,</li>\n</ul>\n<p>접근할 수 있는 권한이 많지 않고, 회사에서 사용하는 구성을 개인적으로 학습하고자 동일하게 구성해둔 파이프 라인이 있는데 그곳을 다른 환경으로 이사 시키기 위해 작성해보았다.</p>\n<ul>\n<li>설치도 간단했지만, 백업도 간단하다</li>\n</ul>\n<h2>절차</h2>\n<p>harbor 서비스 종류 → 백업 → 새로운 서버에 harbor 설치 → 새로운 harbor 서비스 종료 → 백업한 자료로 /data 디렉토리 덮어쓰기</p>\n<h2>백업</h2>\n<ul>\n<li>참고할 디렉토리 위치 및 설정파일\n<ul>\n<li>데이터 관련 디렉토리: /data</li>\n<li>환경설정 관련 디렉토리: /opt/harbor 또는 /usr/local/harbor\n<ul>\n<li>harbor.yml\n<ul>\n<li>hostname</li>\n<li>http.port</li>\n<li>harbor_admin_password: Harbor12345</li>\n<li>database.password: root123</li>\n<li>data_volume: /data</li>\n<li>upload_purging.enabled: true</li>\n<li>upload_purging.age: 168h</li>\n<li>upload_purging.interval: 24h</li>\n<li>cache.enabled: false   #이건 서버성능에 따라</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h2>정상확인</h2>\n<h3>서비스 확인</h3>\n<p><code class=\"language-text\">docker compose watch</code></p>\n<p><img src=\"https://prod-files-secure.s3.us-west-2.amazonaws.com/4af44c55-bb9f-4a14-af4e-55648b227811/81786e00-d54c-4fbf-b29c-f347f93b8bad/image.png\" alt=\"image.png\"></p>\n<h3>DB 연결 확인</h3>\n<ul>\n<li>속성정보\n<ul>\n<li>Database: registry</li>\n<li>User: postgres</li>\n<li>Password: harbor.yml 참조</li>\n</ul>\n</li>\n<li>설계를 살짝 추측 해볼 수 있는 구성이다</li>\n</ul>\n<p><img src=\"https://prod-files-secure.s3.us-west-2.amazonaws.com/4af44c55-bb9f-4a14-af4e-55648b227811/23e59fdb-f9f6-4467-9e2c-bd2513c8070e/image.png\" alt=\"image.png\"></p>\n<h2>회고</h2>\n<ul>\n<li>검색한 결과나 chatGPT도 크게 다르지 않았어서 어렵지 않았다.</li>\n<li>설치할 때는 관심이 안 갔지만, 관리하려고 보니 DB구성을 보게 되고 설정과 구성을 보아 설계를 가늠할 수 있어서 또 다른 재미도 있었다.</li>\n</ul>","categories":["Computer Science"],"date":"October 04, 2024","description":"","id":"54cfce06-2338-5ff6-9d63-5b33a72e5ac4","keywords":["Harbor","back up","recover"],"slug":"/ComputerScience/back-up-and-recover-for-the-harobr/","title":"Harbor 백업 및 복원 작업","readingTime":{"text":"2 min read"}},"listingPagePath":"/blog"}},"staticQueryHashes":["1572444355","1764120992","2636236428","2709378673","3262260831","3584947626","4042740421","540466502","597217301","948380417"],"slicesMap":{}}